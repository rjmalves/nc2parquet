{
    "nc_key": "examples/data/pres_temp_4D.nc",
    "variable_name": "temperature",
    "parquet_key": "examples/output/complex_pipeline.parquet",
    "filters": [
        {
            "kind": "range",
            "params": {
                "dimension_name": "latitude",
                "min_value": 25.0,
                "max_value": 45.0
            }
        }
    ],
    "postprocessing": {
        "name": "Complex Multi-Step Pipeline",
        "processors": [
            {
                "type": "rename_columns",
                "mappings": {
                    "temperature": "temp_kelvin",
                    "latitude": "lat",
                    "longitude": "lon",
                    "time": "time_index"
                }
            },
            {
                "type": "datetime_convert",
                "column": "time_index",
                "base": "2000-01-01T00:00:00Z",
                "unit": "hours"
            },
            {
                "type": "unit_convert",
                "column": "temp_kelvin",
                "from_unit": "kelvin",
                "to_unit": "celsius"
            },
            {
                "type": "apply_formula",
                "target_column": "temp_fahrenheit",
                "formula": "temp_kelvin * 1.8 + 32.0",
                "source_columns": [
                    "temp_kelvin"
                ]
            },
            {
                "type": "apply_formula",
                "target_column": "is_freezing",
                "formula": "temp_kelvin < 0.0",
                "source_columns": [
                    "temp_kelvin"
                ]
            },
            {
                "type": "aggregate",
                "group_by": [
                    "lat"
                ],
                "aggregations": {
                    "temp_kelvin": "mean",
                    "temp_fahrenheit": "max"
                }
            }
        ]
    }
}